% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_first_release.R
\name{build_archive_df}
\alias{build_archive_df}
\title{Build a lookup table of CRAN archive first appearance dates}
\usage{
build_archive_df(cran_archive_db = NULL)
}
\arguments{
\item{cran_archive_db}{Optional result of \code{tools::CRAN_archive_db()}.
If not supplied, it is retrieved internally.}
}
\value{
A data frame with columns:
\itemize{
\item \code{package} – package name
\item \code{archive_date} – earliest archive date (\code{Date}) or \code{NA}
}
}
\description{
Constructs a data frame mapping package names to their earliest known
appearance in the CRAN archive, inferred from file modification times.
}
\details{
The CRAN archive database is a named list of data frames, one per package.
For each package, the earliest file \code{mtime} is used as a proxy for the
archive entry date. Packages with empty archive entries return \code{NA}.

This function is intended to be called once and the result reused for
efficient per-package lookups.
}
\examples{
\dontrun{
archive_db <- tools::CRAN_archive_db()
archive_df <- build_archive_df(archive_db)
}

}
